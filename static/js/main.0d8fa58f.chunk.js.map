{"version":3,"sources":["Components/UI/MyModal/MyModal.module.css","context/context.js","Components/UI/MyButton/MyButton.jsx","Components/UI/MyLoader/MyLoader.jsx","pages/Header.jsx","pages/Footer.jsx","pages/Contact.jsx","API/PostsService.js","Components/UI/MyInput/MyInput.jsx","Components/PostForm.jsx","Components/Posts/Posts.jsx","Components/UI/MySort/MySort.jsx","Components/PostsFilter.jsx","Components/UI/MyModal/MyModal.jsx","Components/UI/MyPagination/MyPagination.jsx","hooks/usePagination.js","hooks/useFetching.js","hooks/usePosts.js","utils/pages.js","pages/Infinite.jsx","router/router.js","pages/Home.jsx","Components/Post/Post.jsx","Components/Login/Login.jsx","App.jsx","index.js"],"names":["module","exports","AuthContext","createContext","MyButton","children","props","className","classes","MyLoader","loader","Header","elems","history","useHistory","useContext","isAuth","setIsAuth","isLoading","useEffect","document","querySelectorAll","M","Sidenav","init","logout","event","preventDefault","localStorage","setItem","push","style","marginRight","display","onClick","to","href","id","textDecoration","Footer","Contact","PostsService","limit","page","axios","get","params","_limit","_page","response","MyInput","PostForm","create","useState","title","body","post","setPost","type","placeholder","value","onChange","e","target","newPost","Date","now","Posts","router","postsList","length","TransitionGroup","map","CSSTransition","timeout","classNames","margin","removePost","MySort","options","option","name","PostsFilter","filter","setFilter","query","sort","defaultValue","sortPosts","MyModal","visible","setVisible","rootClasses","active","join","MyModalContent","stopPropagation","MyPagination","totalPages","setPage","pagesArray","useMemo","result","i","getResult","usePagination","p","useFetching","callback","setIsLoading","error","setError","a","message","usePosts","sortedPosts","b","localeCompare","useSortedPosts","toLowerCase","includes","getPagesCount","totalCount","Math","ceil","Infinite","privatRoutes","path","component","setPostsList","modal","setModal","setTotalPages","lastElem","useRef","observer","getAll","data","headers","fetchPosts","postsError","current","disconnect","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","sortedAndSearchedPosts","flexDirection","padding","textAlign","width","removedPost","ref","height","exact","useParams","getPostById","fetchPostById","goBack","publicRoutes","paddingTop","htmlFor","login","App","getItem","Provider","route","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0d8fa58f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyModal\":\"MyModal_MyModal__3BH19\",\"MyModalContent\":\"MyModal_MyModalContent__GgsEC\",\"active\":\"MyModal_active__1hYRP\"};","import {createContext} from 'react';\n\nexport const AuthContext = createContext(null);","import classes from './MyButton.module.css';\n\nfunction MyButton({children, ...props}) {\n   return (\n      <button\n         {...props}\n         className={`btn ${classes.MyButton}`}\n      >\n         {children}\n      </button>\n   );\n}\n\nexport default MyButton;\n","import classes from './MyLoader.module.css';\n\nfunction MyLoader() {\n   return <div className={`progress ${classes.loader}`}>\n      <div className=\"indeterminate\"></div>\n   </div>;\n}\n\nexport default MyLoader;\n","import {Link, useHistory} from 'react-router-dom';\nimport {useContext, useEffect} from 'react';\nimport {AuthContext} from '../context/context';\nimport M from 'materialize-css';\nimport MyButton from '../Components/UI/MyButton/MyButton';\nimport MyLoader from '../Components/UI/MyLoader/MyLoader';\n\nfunction Header() {\n   const history = useHistory();\n   const {isAuth, setIsAuth, isLoading} = useContext(AuthContext);\n   let elems;\n   let instances;\n\n   useEffect(() => {\n      elems = document.querySelectorAll('.sidenav');\n      instances = M.Sidenav.init(elems);\n   }, []);\n\n   useEffect(() => {\n      elems = document.querySelectorAll('.sidenav');\n      instances = M.Sidenav.init(elems);\n   }, [isAuth]);\n\n   const logout = (event) => {\n      event.preventDefault();\n      setIsAuth(false);\n      localStorage.setItem('auth', 'false');\n      history.push('/react-spa/login');\n      elems = document.querySelectorAll('.sidenav');\n      instances = M.Sidenav.init(elems);\n   };\n\n   if (isLoading) {\n      return <MyLoader></MyLoader>;\n   }\n\n   return (isAuth\n      ? <>\n         <nav>\n            <div className=\"nav-wrapper  blue-grey darken-3\">\n               <div className=\"right brand-logo\">\n                  <div className=\"hide-on-med-and-down\" style={{marginRight: '10px', display: 'inline-block'}}>\n                     <MyButton onClick={(event) => logout(event)}>Logout</MyButton></div>\n                  <Link to=\"/react-spa/home\">react-spa</Link>\n               </div>\n               <a href=\"#\" data-target=\"mobile-demo\" className=\"sidenav-trigger\">\n                  <i className=\"material-icons\">menu</i>\n               </a>\n               <ul className=\"left hide-on-med-and-down\">\n                  <li>\n                     <Link to=\"/react-spa/home\">Home</Link>\n                  </li>\n                  <li>\n                     <Link to=\"/react-spa/infinite\">Infinite</Link>\n                  </li>\n                  <li>\n                     <Link to=\"/react-spa/contacts\">Contact</Link>\n                  </li>\n               </ul>\n            </div>\n         </nav>\n         <ul id=\"mobile-demo\" className=\"sidenav\">\n            <li>\n               <Link to=\"/react-spa/home\">Home</Link>\n            </li>\n            <li>\n               <Link to=\"/react-spa/infinite\">Infinite</Link>\n            </li>\n            <li>\n               <Link to=\"/react-spa/contacts\">Contact</Link>\n            </li>\n            <li>\n               <a href=\"#\" style={{textDecoration: 'underline'}} onClick={(event) => logout(event)}>Logout</a>\n            </li>\n         </ul>\n      </>\n      : <nav>\n         <div className=\"nav-wrapper  blue-grey darken-3\">\n            <a href=\"#\" className=\"brand-logo right\">\n               react-spa\n            </a>\n         </div>\n      </nav>);\n}\n\nexport default Header;\n","function Footer() {\n   return (\n      <footer className=\"page-footer  blue-grey darken-2\">\n         <div className=\"footer-copyright  blue-grey darken-3\">\n            <div className=\"container\">\n               © 2021 amvlasenko\n               <a\n                  className=\"grey-text text-lighten-4 right\"\n                  href=\"https://github.com/amvlasenko\"\n               >\n                  On GitHub\n               </a>\n            </div>\n         </div>\n      </footer>\n   );\n}\n\nexport default Footer;\n","function Contact() {\n   return <h1>Hello from Contact</h1>;\n}\n\nexport default Contact;\n","import axios from 'axios';\n\nexport default class PostsService {\n   static async getAll(limit = 10, page = 1) {\n      const response = await axios.get(\n         'https://jsonplaceholder.typicode.com/posts',\n         {params: {_limit: limit, _page: page}}\n      );\n      return response;\n   }\n\n   static async getPostById(id) {\n      const response = await axios.get(\n         `https://jsonplaceholder.typicode.com/posts/${id}`,\n      );\n      return response;\n   }\n}\n","import classes from './MyInput.module.css';\n\nfunction MyInput({...props}) {\n   return <input {...props} className={classes.MyInput}></input>;\n}\n\nexport default MyInput;\n","import MyInput from './UI/MyInput/MyInput';\nimport MyButton from './UI/MyButton/MyButton';\nimport {useState} from 'react';\n\nfunction PostForm({create}) {\n   const [post, setPost] = useState({\n      title: '',\n      body: '',\n      id: '',\n   });\n\n   const addNewPost = (e) => {\n      e.preventDefault();\n      const newPost = {...post, id: Date.now()};\n      create(newPost);\n      setPost({title: '', body: '', id: ''});\n   };\n\n   return (\n      <form>\n         <MyInput\n            type=\"text\"\n            placeholder=\"Название поста\"\n            value={post.title}\n            onChange={(e) => setPost({...post, title: e.target.value})}\n         />\n         <MyInput\n            type=\"text\"\n            placeholder=\"Описание поста\"\n            value={post.body}\n            onChange={(e) => setPost({...post, body: e.target.value})}\n         />\n         <MyButton onClick={addNewPost}>Создать пост</MyButton>\n      </form>\n   );\n}\n\nexport default PostForm;\n","import {CSSTransition, TransitionGroup} from 'react-transition-group';\nimport MyButton from '../UI/MyButton/MyButton';\nimport './posts.css';\nimport {useHistory} from 'react-router-dom';\n\nfunction Posts(props) {\n   const router = useHistory();\n\n   if (!props.postsList.length) {\n      return (\n         <>\n            <span>Постов нет</span>\n            <div className=\"progress\">\n               <div className=\"indeterminate\"></div>\n            </div>\n         </>\n      );\n   }\n   return (\n      <div>\n         <h2>Posts</h2>\n         <ul>\n            <TransitionGroup>\n               {props.postsList.map((post) => (\n                  <CSSTransition key={post.id} timeout={500} classNames=\"post\">\n                     <li className=\"row\">\n                        <div className=\"col s12 m8\">\n                           <div className=\"card blue-grey darken-1\">\n                              <div className=\"card-content white-text\">\n                                 <span className=\"card-title\">\n                                    {post.id}. {post.title}\n                                 </span>\n                                 <p>{post.body}</p>\n                              </div>\n                              <div className=\"card-action\">\n                                 <MyButton\n                                    style={{margin: '10px'}}\n                                    onClick={() => router.push(`/react-spa/post/${post.id}`)}\n                                 >\n                                    Открыть\n                                 </MyButton>\n                                 <MyButton\n                                    onClick={() => props.removePost(post)}\n                                 >\n                                    Удалить\n                                 </MyButton>\n                              </div>\n                           </div>\n                        </div>\n                     </li>\n                  </CSSTransition>\n               ))}\n            </TransitionGroup>\n         </ul>\n      </div>\n   );\n}\n\nexport default Posts;\n","function MySort(props) {\n   return (\n      <>\n         <div className=\"input-field col s12\">\n            <select\n               className=\"browser-default\"\n               value={props.value}\n               onChange={(event) => props.onChange(event.target.value)}\n            >\n               {props.options.map((option) => (\n                  <option value={option.value} key={option.value}>\n                     {option.name}\n                  </option>\n               ))}\n            </select>\n         </div>\n         <label>Сортировка</label>\n      </>\n   );\n}\n\nexport default MySort;\n","import MyInput from './UI/MyInput/MyInput';\nimport MySort from './UI/MySort/MySort';\n\nfunction PostsFilter({filter, setFilter}) {\n   return (\n      <>\n         <MyInput\n            placeholder=\"Поиск...\"\n            value={filter.query}\n            onChange={(e) => setFilter({...filter, query: e.target.value})}\n         />\n         <MySort\n            value={filter.sort}\n            defaultValue=\"По умолчанию\"\n            options={[\n               {value: 'title', name: 'По заголовку'},\n               {value: 'body', name: 'По содержанию'},\n            ]}\n            onChange={(sortPosts) => setFilter({...filter, sort: sortPosts})}\n         />\n      </>\n   );\n}\n\nexport default PostsFilter;\n","import classes from './MyModal.module.css';\n\nfunction MyModal({children, visible, setVisible}) {\n   const rootClasses = [classes.MyModal];\n   if (visible) {\n      rootClasses.push(classes.active);\n   }\n   return (\n      <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\n         <div\n            className={classes.MyModalContent}\n            onClick={(e) => e.stopPropagation()}\n         >\n            {children}\n         </div>\n      </div>\n   );\n}\n\nexport default MyModal;\n","import {usePagination} from '../../../hooks/usePagination';\n\nfunction MyPagination({totalPages, page, setPage}) {\n   let pagesArray = usePagination(totalPages);\n   return (\n      <ul className=\"pagination\">\n         {pagesArray.map((p) => (\n            <li\n               key={p}\n               className={page === p ? 'active' : 'waves-effect'}\n               onClick={() => setPage(p)}\n            >\n               <a href=\"#!\">{p}</a>\n            </li>\n         ))}\n      </ul>\n   );\n}\n\nexport default MyPagination;\n","import {useMemo} from 'react';\n\nexport const usePagination = (totalPages) => {\n   function getResult(totalPages) {\n      let result = [];\n      for (let i = 0; i < totalPages; i++) {\n         result.push(i + 1);\n      }\n      return result;\n   }\n\n   const pagination = useMemo(() => getResult(totalPages), [totalPages]);\n\n   return pagination;\n};\n","import {useState} from 'react';\n\nfunction useFetching(callback) {\n   const [isLoading, setIsLoading] = useState(false);\n   const [error, setError] = useState('');\n   const fetching = async () => {\n      try {\n         setIsLoading(true);\n         await callback();\n      } catch (error) {\n         setError(error.message);\n      } finally {\n         setIsLoading(false);\n      }\n   };\n   return [fetching, isLoading, error];\n}\n\nexport default useFetching;\n","import {useMemo} from 'react';\n\nexport const useSortedPosts = (postsList, sort) => {\n   const sortedPosts = useMemo(() => {\n      if (sort) {\n         return [...postsList].sort((a, b) => a[sort].localeCompare(b[sort]));\n      }\n      return postsList;\n   }, [sort, postsList]);\n   return sortedPosts;\n};\n\nexport const usePosts = (postsList, sort, query) => {\n   const sortedPosts = useSortedPosts(postsList, sort);\n   const sortedAndSearchedPosts = useMemo(() => {\n      return sortedPosts.filter((post) =>\n         post.title.toLowerCase().includes(query.toLowerCase())\n      );\n   }, [query, sortedPosts]);\n   return sortedAndSearchedPosts;\n};\n","export const getPagesCount = (totalCount, limit) => {\n   return Math.ceil(totalCount / limit);\n};\n","import {useEffect, useRef, useState} from 'react';\nimport PostsService from '../API/PostsService';\nimport PostForm from '../Components/PostForm';\nimport Posts from '../Components/Posts/Posts';\nimport PostsFilter from '../Components/PostsFilter';\nimport MyButton from '../Components/UI/MyButton/MyButton';\nimport MyLoader from '../Components/UI/MyLoader/MyLoader';\nimport MyModal from '../Components/UI/MyModal/MyModal';\nimport useFetching from '../hooks/useFetching';\nimport {usePosts} from '../hooks/usePosts';\nimport {getPagesCount} from '../utils/pages';\n\nfunction Infinite() {\n   const [postsList, setPostsList] = useState([]);\n   const [filter, setFilter] = useState({sort: '', query: ''});\n   const [modal, setModal] = useState(false);\n   const [totalPages, setTotalPages] = useState(0);\n   const [limit, setLimit] = useState(10);\n   const [page, setPage] = useState(1);\n   const lastElem = useRef();\n   const observer = useRef();\n\n   const [fetchPosts, isLoading, postsError] = useFetching(async () => {\n      const response = await PostsService.getAll(limit, page);\n      setPostsList([...postsList, ...response.data]);\n      const totalCount = response.headers['x-total-count'];\n      setTotalPages(getPagesCount(totalCount, limit));\n   });\n\n   useEffect(() => {\n      if (isLoading) return;\n      if (observer.current) observer.current.disconnect();\n      let callback = function (entries, observer) {\n         entries.forEach(function (entry) {\n            if (entry.isIntersecting && page < totalPages) {\n               setPage(page + 1);\n            }\n         });\n      };\n      observer.current = new IntersectionObserver(callback);\n      observer.current.observe(lastElem.current);\n   }, [isLoading]);\n\n   const sortedAndSearchedPosts = usePosts(\n      postsList,\n      filter.sort,\n      filter.query\n   );\n\n   useEffect(() => fetchPosts(), [page]);\n\n   const addPost = (newPost) => {\n      setPostsList([...postsList, newPost]);\n      setModal(false);\n   };\n\n   const removePost = (removedPost) => {\n      setPostsList(postsList.filter((p) => p.id !== removedPost.id));\n   };\n\n   return (\n      <div\n         style={{\n            display: 'flex',\n            flexDirection: 'column',\n            padding: '20px',\n            textAlign: 'left',\n         }}\n      >\n         <span>Its Infinite</span>\n         <MyButton style={{width: '150px'}} onClick={() => setModal(true)}>\n            Создать пост\n         </MyButton>\n         <MyModal visible={modal} setVisible={setModal}>\n            <PostForm create={addPost}/>\n         </MyModal>\n         <PostsFilter filter={filter} setFilter={setFilter}/>\n         {postsError && <h1>Произошла обшибка {postsError}</h1>}\n         <Posts postsList={sortedAndSearchedPosts} removePost={removePost}/>\n         <div ref={lastElem} style={{height: '10px'}}/>\n         {isLoading &&\n            <MyLoader/>\n         }\n      </div>\n   );\n}\n\nexport default Infinite;\n","import Contact from '../pages/Contact';\nimport Home from '../pages/Home';\nimport Post from '../Components/Post/Post';\nimport Login from '../Components/Login/Login';\nimport Infinite from '../pages/Infinite';\n\nexport const privatRoutes = [\n   {path: '/react-spa/infinite', component: Infinite, exact: true},\n   {path: '/react-spa/contacts', component: Contact, exact: true},\n   {path: '/react-spa/home', component: Home, exact: true},\n   {path: '/react-spa/post/:id', component: Post, exact: true}\n];\nexport const publicRoutes = [\n   {path: '/react-spa/login', component: Login, exact: true}\n];\n","import {useEffect, useState} from 'react';\nimport PostsService from '../API/PostsService';\nimport PostForm from '../Components/PostForm';\nimport Posts from '../Components/Posts/Posts';\nimport PostsFilter from '../Components/PostsFilter';\nimport MyButton from '../Components/UI/MyButton/MyButton';\nimport MyLoader from '../Components/UI/MyLoader/MyLoader';\nimport MyModal from '../Components/UI/MyModal/MyModal';\nimport MyPagination from '../Components/UI/MyPagination/MyPagination';\nimport useFetching from '../hooks/useFetching';\nimport {usePosts} from '../hooks/usePosts';\nimport {getPagesCount} from '../utils/pages';\n\nfunction Home() {\n   const [postsList, setPostsList] = useState([]);\n   const [filter, setFilter] = useState({sort: '', query: ''});\n   const [modal, setModal] = useState(false);\n   const [totalPages, setTotalPages] = useState(0);\n   const [limit, setLimit] = useState(10);\n   const [page, setPage] = useState(1);\n   const [fetchPosts, isLoading, postsError] = useFetching(async () => {\n      const response = await PostsService.getAll(limit, page);\n      setPostsList(response.data);\n      const totalCount = response.headers['x-total-count'];\n      setTotalPages(getPagesCount(totalCount, limit));\n   });\n\n   useEffect(() => fetchPosts(), []);\n\n   const sortedAndSearchedPosts = usePosts(\n      postsList,\n      filter.sort,\n      filter.query\n   );\n\n   useEffect(() => fetchPosts(), [page]);\n\n   const addPost = (newPost) => {\n      setPostsList([...postsList, newPost]);\n      setModal(false);\n   };\n\n   const removePost = (removedPost) => {\n      setPostsList(postsList.filter((p) => p.id !== removedPost.id));\n   };\n\n   return (\n      <div\n         style={{\n            display: 'flex',\n            flexDirection: 'column',\n            padding: '20px',\n            textAlign: 'left',\n         }}\n      >\n         <span>Its Home</span>\n         <MyButton style={{width: '150px'}} onClick={() => setModal(true)}>\n            Создать пост\n         </MyButton>\n         <MyModal visible={modal} setVisible={setModal}>\n            <PostForm create={addPost}/>\n         </MyModal>\n         <MyPagination totalPages={totalPages} page={page} setPage={setPage}/>\n         <PostsFilter filter={filter} setFilter={setFilter}/>\n         {postsError && <h1>Произошла обшибка {postsError}</h1>}\n         {isLoading ? (\n            <MyLoader/>\n         ) : (\n            <Posts postsList={sortedAndSearchedPosts} removePost={removePost}/>\n         )}\n      </div>\n   );\n}\n\nexport default Home;\n","import React, {useEffect, useState} from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\nimport PostsService from '../../API/PostsService';\nimport MyButton from '../UI/MyButton/MyButton';\nimport useFetching from '../../hooks/useFetching';\nimport MyLoader from '../UI/MyLoader/MyLoader';\n\nconst Post = () => {\n   const params = useParams();\n   const router = useHistory();\n   const [post, setPost] = useState({});\n   const [fetchPostById, isLoading] = useFetching(async () => {\n      let response = await PostsService.getPostById(params.id);\n      setPost(response.data);\n   });\n\n   useEffect(() => {\n      fetchPostById();\n   }, []);\n\n   return (\n      <div className={'container'}>\n         {isLoading ? (\n            <MyLoader/>\n         ) : (<div>\n            <h4>\n               {post.title}\n            </h4>\n            <p>\n               {post.body}\n            </p>\n            <MyButton onClick={() => router.goBack()}>Назад</MyButton>\n         </div>)}\n      </div>\n   );\n};\n\nexport default Post;\n","import React, {useContext} from 'react';\nimport MyButton from '../UI/MyButton/MyButton';\nimport {AuthContext} from '../../context/context';\n\nconst Login = () => {\n   const {isAuth, setIsAuth} = useContext(AuthContext);\n   const login = (event) => {\n      event.preventDefault();\n      setIsAuth(true);\n      localStorage.setItem('auth', 'true');\n   };\n   return (\n      <div className=\"row\" style={{paddingTop: '5em'}}>\n         <form className=\"col s12\">\n            <div className=\"container\">\n               <span className=\"pulse\">* просто нажмите логин и всё заработает ;)</span>\n               <div className=\"input-field col s6 offset-s3\">\n                  <input id=\"username\" type=\"text\" className=\"validate\"/>\n                  <label htmlFor=\"username\">Username</label>\n               </div>\n               <div className=\"input-field col s6 offset-s3\">\n                  <input id=\"password\" type=\"password\" className=\"validate\"/>\n                  <label htmlFor=\"password\">Password</label>\n               </div>\n               <div className=\"input-field col s6 offset-s3\">\n                  <MyButton onClick={(event) => login(event)}>Login</MyButton>\n               </div>\n            </div>\n         </form>\n      </div>\n   );\n};\n\nexport default Login;\n","import {BrowserRouter as Router, Redirect, Route, Switch} from 'react-router-dom';\nimport Header from './pages/Header';\nimport Footer from './pages/Footer';\nimport {privatRoutes, publicRoutes} from './router/router';\nimport {useEffect, useState} from 'react';\nimport {AuthContext} from './context/context';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport MyLoader from './Components/UI/MyLoader/MyLoader';\n\nfunction App() {\n   const [isAuth, setIsAuth] = useState(false);\n   const [isLoading, setIsLoading] = useState(true);\n   useEffect(() => {\n      let auth = localStorage.getItem('auth');\n      if (auth === 'true') {\n         setIsAuth(true);\n      }\n      setIsLoading(false);\n   }, []);\n   if (isLoading) {\n      return <MyLoader></MyLoader>;\n   }\n   return (<AuthContext.Provider value={{\n         isAuth,\n         setIsAuth,\n         isLoading,\n         setIsLoading\n      }}>\n         <Router>\n            <Header/>\n            <main>\n               {isAuth\n                  ? <Switch>\n                     {privatRoutes.map(route =>\n                        <Route\n                           component={route.component}\n                           path={route.path}\n                           exact={route.exact}\n                           key={route.path}\n                        />\n                     )}\n                     <Redirect to=\"/react-spa/home\"/>\n                  </Switch>\n                  : <Switch>\n                     {publicRoutes.map(route =>\n                        <Route\n                           component={route.component}\n                           path={route.path}\n                           exact={route.exact}\n                           key={route.path}\n                        />\n                     )}\n                     <Redirect to=\"/react-spa/login\"/>\n                  </Switch>\n               }\n            </main>\n            <Footer/>\n         </Router>\n      </AuthContext.Provider>\n   );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n   <App/>,\n   document.getElementById('root')\n);\n"],"sourceRoot":""}