(this["webpackJsonpreact-spa"]=this["webpackJsonpreact-spa"]||[]).push([[0],{23:function(e,t,c){e.exports={MyModal:"MyModal_MyModal__3BH19",MyModalContent:"MyModal_MyModalContent__GgsEC",active:"MyModal_active__1hYRP"}},39:function(e,t,c){},40:function(e,t,c){},44:function(e,t,c){},51:function(e,t,c){},76:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(16),r=c.n(a),s=(c(51),c(2)),i=c(11),o=c(4),l=Object(n.createContext)(null),j=c(22),u=c.n(j),b=c(6),d=c(45),O=c(39),h=c.n(O),f=c(0),x=["children"];var p=function(e){var t=e.children,c=Object(d.a)(e,x);return Object(f.jsx)("button",Object(b.a)(Object(b.a)({},c),{},{className:"btn ".concat(h.a.MyButton),children:t}))},v=c(40),m=c.n(v);var g=function(){return Object(f.jsx)("div",{className:"progress ".concat(m.a.loader),children:Object(f.jsx)("div",{className:"indeterminate"})})};var y=function(){var e,t=Object(o.g)(),c=Object(n.useContext)(l),a=c.isAuth,r=c.setIsAuth,s=c.isLoading;Object(n.useEffect)((function(){e=document.querySelectorAll(".sidenav"),u.a.Sidenav.init(e)}),[]),Object(n.useEffect)((function(){e=document.querySelectorAll(".sidenav"),u.a.Sidenav.init(e)}),[a]);var j=function(c){c.preventDefault(),r(!1),localStorage.setItem("auth","false"),t.push("/react-spa/login"),e=document.querySelectorAll(".sidenav"),u.a.Sidenav.init(e)};return s?Object(f.jsx)(g,{}):a?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("nav",{children:Object(f.jsxs)("div",{className:"nav-wrapper  blue-grey darken-3",children:[Object(f.jsxs)("div",{className:"right brand-logo",children:[Object(f.jsx)("div",{className:"hide-on-med-and-down",style:{marginRight:"10px",display:"inline-block"},children:Object(f.jsx)(p,{onClick:function(e){return j(e)},children:"Logout"})}),Object(f.jsx)(i.b,{to:"/react-spa/home",children:"react-spa"})]}),Object(f.jsx)("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger",children:Object(f.jsx)("i",{className:"material-icons",children:"menu"})}),Object(f.jsxs)("ul",{className:"left hide-on-med-and-down",children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/react-spa/home",children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/react-spa/infinite",children:"Infinite"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/react-spa/contacts",children:"Contact"})})]})]})}),Object(f.jsxs)("ul",{id:"mobile-demo",className:"sidenav",children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/react-spa/home",children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/react-spa/infinite",children:"Infinite"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"/react-spa/contacts",children:"Contact"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#",style:{textDecoration:"underline"},onClick:function(e){return j(e)},children:"Logout"})})]})]}):Object(f.jsx)("nav",{children:Object(f.jsx)("div",{className:"nav-wrapper  blue-grey darken-3",children:Object(f.jsx)("a",{href:"#",className:"brand-logo right",children:"react-spa"})})})};var N=function(){return Object(f.jsx)("footer",{className:"page-footer  blue-grey darken-2",children:Object(f.jsx)("div",{className:"footer-copyright  blue-grey darken-3",children:Object(f.jsxs)("div",{className:"container",children:["\xa9 2021 amvlasenko",Object(f.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/amvlasenko",children:"On GitHub"})]})})})};var w=function(){return Object(f.jsx)("h1",{children:"Hello from Contact"})},k=c(15),C=c(7),S=c.n(C),M=c(13),I=c(42),A=c(43),P=c(28),L=c.n(P),E=function(){function e(){Object(I.a)(this,e)}return Object(A.a)(e,null,[{key:"getAll",value:function(){var e=Object(M.a)(S.a.mark((function e(){var t,c,n,a=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:10,c=a.length>1&&void 0!==a[1]?a[1]:1,e.next=4,L.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:c}});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPostById",value:function(){var e=Object(M.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_=c(44),q=c.n(_);var F=function(e){var t=Object.assign({},e);return Object(f.jsx)("input",Object(b.a)(Object(b.a)({},t),{},{className:q.a.MyInput}))};var D=function(e){var t=e.create,c=Object(n.useState)({title:"",body:"",id:""}),a=Object(s.a)(c,2),r=a[0],i=a[1];return Object(f.jsxs)("form",{children:[Object(f.jsx)(F,{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",value:r.title,onChange:function(e){return i(Object(b.a)(Object(b.a)({},r),{},{title:e.target.value}))}}),Object(f.jsx)(F,{type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",value:r.body,onChange:function(e){return i(Object(b.a)(Object(b.a)({},r),{},{body:e.target.value}))}}),Object(f.jsx)(p,{onClick:function(e){e.preventDefault();var c=Object(b.a)(Object(b.a)({},r),{},{id:Date.now()});t(c),i({title:"",body:"",id:""})},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})]})},B=c(81),H=c(80);c(76);var R=function(e){var t=Object(o.g)();return e.postsList.length?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Posts"}),Object(f.jsx)("ul",{children:Object(f.jsx)(B.a,{children:e.postsList.map((function(c){return Object(f.jsx)(H.a,{timeout:500,classNames:"post",children:Object(f.jsx)("li",{className:"row",children:Object(f.jsx)("div",{className:"col s12 m8",children:Object(f.jsxs)("div",{className:"card blue-grey darken-1",children:[Object(f.jsxs)("div",{className:"card-content white-text",children:[Object(f.jsxs)("span",{className:"card-title",children:[c.id,". ",c.title]}),Object(f.jsx)("p",{children:c.body})]}),Object(f.jsxs)("div",{className:"card-action",children:[Object(f.jsx)(p,{style:{margin:"10px"},onClick:function(){return t.push("/react-spa/post/".concat(c.id))},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),Object(f.jsx)(p,{onClick:function(){return e.removePost(c)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})})},c.id)}))})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"}),Object(f.jsx)("div",{className:"progress",children:Object(f.jsx)("div",{className:"indeterminate"})})]})};var V=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"input-field col s12",children:Object(f.jsx)("select",{className:"browser-default",value:e.value,onChange:function(t){return e.onChange(t.target.value)},children:e.options.map((function(e){return Object(f.jsx)("option",{value:e.value,children:e.name},e.value)}))})}),Object(f.jsx)("label",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"})]})};var G=function(e){var t=e.filter,c=e.setFilter;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(F,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",value:t.query,onChange:function(e){return c(Object(b.a)(Object(b.a)({},t),{},{query:e.target.value}))}}),Object(f.jsx)(V,{value:t.sort,defaultValue:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",options:[{value:"title",name:"\u041f\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0443"},{value:"body",name:"\u041f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044e"}],onChange:function(e){return c(Object(b.a)(Object(b.a)({},t),{},{sort:e}))}})]})},J=c(23),T=c.n(J);var U=function(e){var t=e.children,c=e.visible,n=e.setVisible,a=[T.a.MyModal];return c&&a.push(T.a.active),Object(f.jsx)("div",{className:a.join(" "),onClick:function(){return n(!1)},children:Object(f.jsx)("div",{className:T.a.MyModalContent,onClick:function(e){return e.stopPropagation()},children:t})})};var Y=function(e){var t=e.totalPages,c=e.page,a=e.setPage,r=function(e){return Object(n.useMemo)((function(){return function(e){for(var t=[],c=0;c<e;c++)t.push(c+1);return t}(e)}),[e])}(t);return Object(f.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(f.jsx)("li",{className:c===e?"active":"waves-effect",onClick:function(){return a(e)},children:Object(f.jsx)("a",{href:"#!",children:e})},e)}))})};var z=function(e){var t=Object(n.useState)(!1),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],j=o[1];return[function(){var t=Object(M.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),a,l]},K=function(e,t,c){var a=function(e,t){return Object(n.useMemo)((function(){return t?Object(k.a)(e).sort((function(e,c){return e[t].localeCompare(c[t])})):e}),[t,e])}(e,t);return Object(n.useMemo)((function(){return a.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}))}),[c,a])},Q=function(e,t){return Math.ceil(e/t)};var W=[{path:"/react-spa/infinite",component:function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({sort:"",query:""}),i=Object(s.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(!1),u=Object(s.a)(j,2),b=u[0],d=u[1],O=Object(n.useState)(0),h=Object(s.a)(O,2),x=h[0],v=h[1],m=Object(n.useState)(10),y=Object(s.a)(m,2),N=y[0],w=(y[1],Object(n.useState)(1)),C=Object(s.a)(w,2),I=C[0],A=C[1],P=Object(n.useRef)(),L=Object(n.useRef)(),_=z(Object(M.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAll(N,I);case 2:t=e.sent,a([].concat(Object(k.a)(c),Object(k.a)(t.data))),n=t.headers["x-total-count"],v(Q(n,N));case 6:case"end":return e.stop()}}),e)})))),q=Object(s.a)(_,3),F=q[0],B=q[1],H=q[2];Object(n.useEffect)((function(){if(!B){L.current&&L.current.disconnect();L.current=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&I<x&&A(I+1)}))})),L.current.observe(P.current)}}),[B]);var V=K(c,o.sort,o.query);return Object(n.useEffect)((function(){return F()}),[I]),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"20px",textAlign:"left"},children:[Object(f.jsx)("span",{children:"Its Infinite"}),Object(f.jsx)(p,{style:{width:"150px"},onClick:function(){return d(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(f.jsx)(U,{visible:b,setVisible:d,children:Object(f.jsx)(D,{create:function(e){a([].concat(Object(k.a)(c),[e])),d(!1)}})}),Object(f.jsx)(G,{filter:o,setFilter:l}),H&&Object(f.jsxs)("h1",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0431\u0448\u0438\u0431\u043a\u0430 ",H]}),Object(f.jsx)(R,{postsList:V,removePost:function(e){a(c.filter((function(t){return t.id!==e.id})))}}),Object(f.jsx)("div",{ref:P,style:{height:"10px"}}),B&&Object(f.jsx)(g,{})]})},exact:!0},{path:"/react-spa/contacts",component:w,exact:!0},{path:"/react-spa/home",component:function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({sort:"",query:""}),i=Object(s.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(!1),u=Object(s.a)(j,2),b=u[0],d=u[1],O=Object(n.useState)(0),h=Object(s.a)(O,2),x=h[0],v=h[1],m=Object(n.useState)(10),y=Object(s.a)(m,2),N=y[0],w=(y[1],Object(n.useState)(1)),C=Object(s.a)(w,2),I=C[0],A=C[1],P=z(Object(M.a)(S.a.mark((function e(){var t,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAll(N,I);case 2:t=e.sent,a(t.data),c=t.headers["x-total-count"],v(Q(c,N));case 6:case"end":return e.stop()}}),e)})))),L=Object(s.a)(P,3),_=L[0],q=L[1],F=L[2];Object(n.useEffect)((function(){return _()}),[]);var B=K(c,o.sort,o.query);return Object(n.useEffect)((function(){return _()}),[I]),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"20px",textAlign:"left"},children:[Object(f.jsx)("span",{children:"Its Home"}),Object(f.jsx)(p,{style:{width:"150px"},onClick:function(){return d(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(f.jsx)(U,{visible:b,setVisible:d,children:Object(f.jsx)(D,{create:function(e){a([].concat(Object(k.a)(c),[e])),d(!1)}})}),Object(f.jsx)(Y,{totalPages:x,page:I,setPage:A}),Object(f.jsx)(G,{filter:o,setFilter:l}),F&&Object(f.jsxs)("h1",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0431\u0448\u0438\u0431\u043a\u0430 ",F]}),q?Object(f.jsx)(g,{}):Object(f.jsx)(R,{postsList:B,removePost:function(e){a(c.filter((function(t){return t.id!==e.id})))}})]})},exact:!0},{path:"/react-spa/post/:id",component:function(){var e=Object(o.h)(),t=Object(o.g)(),c=Object(n.useState)({}),a=Object(s.a)(c,2),r=a[0],i=a[1],l=z(Object(M.a)(S.a.mark((function t(){var c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.getPostById(e.id);case 2:c=t.sent,i(c.data);case 4:case"end":return t.stop()}}),t)})))),j=Object(s.a)(l,2),u=j[0],b=j[1];return Object(n.useEffect)((function(){u()}),[]),Object(f.jsx)("div",{className:"container",children:b?Object(f.jsx)(g,{}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:r.title}),Object(f.jsx)("p",{children:r.body}),Object(f.jsx)(p,{onClick:function(){return t.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})})},exact:!0}],X=[{path:"/react-spa/login",component:function(){var e=Object(n.useContext)(l),t=(e.isAuth,e.setIsAuth);return Object(f.jsx)("div",{className:"row",style:{paddingTop:"5em"},children:Object(f.jsx)("form",{className:"col s12",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("span",{className:"pulse",children:"* \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d \u0438 \u0432\u0441\u0451 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 ;)"}),Object(f.jsxs)("div",{className:"input-field col s6 offset-s3",children:[Object(f.jsx)("input",{id:"username",type:"text",className:"validate"}),Object(f.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(f.jsxs)("div",{className:"input-field col s6 offset-s3",children:[Object(f.jsx)("input",{id:"password",type:"password",className:"validate"}),Object(f.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(f.jsx)("div",{className:"input-field col s6 offset-s3",children:Object(f.jsx)(p,{onClick:function(e){return function(e){e.preventDefault(),t(!0),localStorage.setItem("auth","true")}(e)},children:"Login"})})]})})})},exact:!0}];c(77);var Z=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),j=Object(s.a)(r,2),u=j[0],b=j[1];return Object(n.useEffect)((function(){"true"===localStorage.getItem("auth")&&a(!0),b(!1)}),[]),u?Object(f.jsx)(g,{}):Object(f.jsx)(l.Provider,{value:{isAuth:c,setIsAuth:a,isLoading:u,setIsLoading:b},children:Object(f.jsxs)(i.a,{children:[Object(f.jsx)(y,{}),Object(f.jsx)("main",{children:c?Object(f.jsxs)(o.d,{children:[W.map((function(e){return Object(f.jsx)(o.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(f.jsx)(o.a,{to:"/react-spa/home"})]}):Object(f.jsxs)(o.d,{children:[X.map((function(e){return Object(f.jsx)(o.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(f.jsx)(o.a,{to:"/react-spa/login"})]})}),Object(f.jsx)(N,{})]})})};r.a.render(Object(f.jsx)(Z,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.0d8fa58f.chunk.js.map